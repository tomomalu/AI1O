# AIエラー解決機能 - UIガイドライン・デザイン原則

## 概要
本ドキュメントでは、AIエラー解決機能のUI設計における一貫したデザイン原則、カラーパレット、コンポーネント仕様、およびユーザビリティガイドラインを定義します。

## 基本デザイン原則

### 1. 分かりやすさ（Clarity）
**原則**: ITリテラシーが低いユーザーでも直感的に理解できる

**実装指針**:
- 専門用語を避け、日常的な言葉を使用
- アイコンと文字を組み合わせた表現
- ステップバイステップの明確な導線
- 結果の視覚的な表現

**具体例**:
- ❌ 「エラー」→ ✅ 「うまくいかない状況」
- ❌ 「修復」→ ✅ 「修正」
- ❌ 「ログ」→ ✅ 「実行記録」

### 2. 安心感（Trust & Safety）
**原則**: ユーザーが安心してAIの提案を受け入れられる

**実装指針**:
- 信頼度を星マークで視覚化
- 「元に戻す」機能の常時表示
- 処理前後の状態を明確に表示
- 成功率や過去実績の提示

**具体例**:
- 信頼度: ⭐⭐⭐ (高い) - 95%が成功
- 「この操作は元に戻すことができます」
- バックアップ実行済みの確認表示

### 3. 段階的な情報開示（Progressive Disclosure）
**原則**: 必要な情報を段階的に表示し、認知負荷を軽減

**実装指針**:
- サマリー → 詳細 → 技術詳細の階層構造
- 「詳細を見る」リンクで深い情報へアクセス
- 初期表示は最重要情報のみ
- 必要に応じてフィルター・絞り込み機能

### 4. フィードバックの明確化（Clear Feedback）
**原則**: システムの状態とユーザーアクションの結果を明確に伝達

**実装指針**:
- リアルタイムでの進捗表示
- 成功・失敗の明確な表示
- 次に何をすべきかの明示
- 効果・成果の定量的表示

## カラーパレット

### プライマリカラー（主要色）
```
ブランドブルー    #2563EB  ■  メインアクション、ブランド要素
ブランドネイビー  #1E3A8A  ■  ヘッダー、重要な情報
```

### セマンティックカラー（意味色）
```
成功グリーン     #10B981  ■  成功状態、完了、正常
警告オレンジ     #F59E0B  ■  注意喚起、要確認
エラーレッド     #EF4444  ■  エラー、失敗、危険
情報ブルー       #3B82F6  ■  情報表示、ヒント

進行中パープル   #8B5CF6  ■  処理中、実行中
一時停止グレー   #6B7280  ■  一時停止、保留
```

### ニュートラルカラー（基調色）
```
テキストダーク   #111827  ■  メインテキスト
テキストミディアム #374151  ■  サブテキスト
テキストライト   #6B7280  ■  キャプション、ラベル
ボーダーグレー   #D1D5DB  ■  境界線、分割線
背景グレー       #F9FAFB  ■  背景、カードエリア
背景ホワイト     #FFFFFF  ■  メイン背景、コンテンツエリア
```

## タイポグラフィ

### フォントファミリー
```css
/* 日本語環境での推奨フォント */
font-family: 
  "Hiragino Kaku Gothic ProN", 
  "Hiragino Sans", 
  "Meiryo", 
  "MS Gothic", 
  sans-serif;

/* 英数字での推奨フォント */
font-family: 
  "SF Pro Display", 
  "Inter", 
  "Segoe UI", 
  system-ui, 
  sans-serif;
```

### フォントサイズとウェイト
```css
/* ヘッダー・タイトル */
.title-large {
  font-size: 24px;
  font-weight: 700;
  line-height: 1.4;
}

.title-medium {
  font-size: 20px;
  font-weight: 600;
  line-height: 1.4;
}

.title-small {
  font-size: 18px;
  font-weight: 600;
  line-height: 1.4;
}

/* 本文テキスト */
.body-large {
  font-size: 16px;
  font-weight: 400;
  line-height: 1.6;
}

.body-medium {
  font-size: 14px;
  font-weight: 400;
  line-height: 1.6;
}

.body-small {
  font-size: 12px;
  font-weight: 400;
  line-height: 1.5;
}

/* 強調テキスト */
.emphasis {
  font-weight: 600;
}

.caption {
  font-size: 12px;
  font-weight: 400;
  color: #6B7280;
}
```

## アイコンシステム

### アイコンの使用原則
- **一貫性**: 同じ意味には同じアイコンを使用
- **認識性**: 日本のユーザーに馴染みのあるアイコン
- **アクセシビリティ**: アイコンのみでなく文字説明も併記

### 主要アイコン定義
```
🤖  ロボット、AI関連
⚠️   警告、注意が必要
✅  成功、完了、正常
🔄  実行中、処理中
⏸️   一時停止
🔙  元に戻す、復旧
⭐  信頼度、評価
📊  レポート、統計
🔧  修復、メンテナンス
💡  提案、アイデア
📅  日時、スケジュール
🎯  目標、成果
⏱️   時間、期間
🔒  セキュリティ、安全性
```

## コンポーネント仕様

### ボタン
```css
/* プライマリボタン（主要アクション） */
.btn-primary {
  background-color: #2563EB;
  color: #FFFFFF;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
  min-height: 44px; /* タッチ対応 */
}

/* セカンダリボタン（副次アクション） */
.btn-secondary {
  background-color: #FFFFFF;
  color: #374151;
  border: 1px solid #D1D5DB;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
}

/* 警告ボタン（注意が必要なアクション） */
.btn-warning {
  background-color: #F59E0B;
  color: #FFFFFF;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
}

/* 危険ボタン（削除、停止等） */
.btn-danger {
  background-color: #EF4444;
  color: #FFFFFF;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
}
```

### カード・パネル
```css
.card {
  background-color: #FFFFFF;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.card-header {
  border-bottom: 1px solid #E5E7EB;
  padding-bottom: 16px;
  margin-bottom: 16px;
}

.card-highlighted {
  border-color: #2563EB;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}
```

### ステータス表示
```css
.status-success {
  background-color: #D1FAE5;
  color: #065F46;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.status-warning {
  background-color: #FEF3C7;
  color: #92400E;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.status-error {
  background-color: #FEE2E2;
  color: #991B1B;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.status-processing {
  background-color: #EDE9FE;
  color: #5B21B6;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}
```

## レスポンシブデザイン

### ブレークポイント
```css
/* モバイル（デフォルト） */
@media (max-width: 767px) {
  .container { padding: 16px; }
  .btn { width: 100%; margin-bottom: 8px; }
  .card { margin-bottom: 16px; }
}

/* タブレット */
@media (min-width: 768px) and (max-width: 1023px) {
  .container { padding: 24px; }
  .grid { grid-template-columns: repeat(2, 1fr); }
}

/* デスクトップ */
@media (min-width: 1024px) {
  .container { padding: 32px; }
  .grid { grid-template-columns: repeat(3, 1fr); }
}
```

## アクセシビリティガイドライン

### キーボードナビゲーション
- Tab順序は論理的な流れに従う
- フォーカス状態を明確に表示
- Escキーでモーダル・ダイアログを閉じる
- Enter/Spaceキーでボタン操作

### スクリーンリーダー対応
```html
<!-- 適切なaria-label -->
<button aria-label="売上データ取得ロボットのエラー詳細を表示">
  詳細を見る
</button>

<!-- 状態の説明 -->
<div aria-live="polite" aria-atomic="true">
  AIが解決方法を分析しています...
</div>

<!-- フォームラベルの関連付け -->
<label for="notification-email">通知先メールアドレス</label>
<input type="email" id="notification-email" />
```

### 色覚障害対応
- 色だけでなく、アイコンや文字でも情報を伝達
- 十分なコントラスト比（WCAG AA基準：4.5:1以上）
- 色覚障害シミュレーションでの確認

## エラーハンドリング

### エラーメッセージの原則
1. **具体的で実行可能**: 何が問題で何をすべきかを明確に
2. **ポジティブな表現**: 問題解決に焦点を当てる
3. **段階的なサポート**: 自己解決 → 詳細情報 → サポート依頼

### エラーメッセージの例
```
❌ 悪い例: "システムエラーが発生しました"
✅ 良い例: "データの取得でうまくいかない状況が発生しました。
          しばらく待ってからもう一度お試しください。"

❌ 悪い例: "無効な入力です"
✅ 良い例: "メールアドレスの形式を確認してください。
          例: tanaka@company.co.jp"
```

## パフォーマンス考慮事項

### 読み込み時間の最適化
- 重要なコンテンツの優先読み込み
- 画像の遅延読み込み（Lazy Loading）
- プログレッシブローディング

### 応答性の確保
- ボタンクリック時の即座なフィードバック
- 長時間処理の進捗表示
- オフライン状態での適切な表示

## 国際化（i18n）考慮事項

### 日本語環境への最適化
- 縦書き・横書きの混在に対応
- 長い日本語テキストの改行処理
- 日本の文化・慣習に適したUI表現

### 将来の多言語展開への準備
- テキストの外部化（翻訳可能な形式）
- レイアウトの柔軟性（文字数変動への対応）
- 日付・時刻・通貨フォーマットの国際化

## 品質保証

### デザインレビューのチェックポイント
- [ ] ブランドガイドラインとの一貫性
- [ ] アクセシビリティ基準の遵守
- [ ] レスポンシブデザインの動作確認
- [ ] エラーハンドリングの適切性
- [ ] ユーザビリティテストでの検証

### 継続的な改善
- ユーザーフィードバックの定期的な収集
- アナリティクスデータに基づく改善
- A/Bテストによる最適化
- アクセシビリティ監査の実施