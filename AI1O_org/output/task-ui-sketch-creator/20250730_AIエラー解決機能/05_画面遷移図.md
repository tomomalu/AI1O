# AIエラー解決機能 - 画面遷移図

## 全体の画面遷移フロー

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          AIエラー解決機能                               │
│                           画面遷移マップ                                │
└─────────────────────────────────────────────────────────────────────────┘

                    ┌─────────────────────────┐
                    │   メインダッシュボード    │ ← スタート地点
                    │  - エラー状況一覧       │
                    │  - 成果サマリー         │
                    │  - 通知・設定アクセス   │
                    └─────────────────────────┘
                              │
                         エラー項目クリック
                              │
                              ▼
                    ┌─────────────────────────┐
                    │   エラー詳細・分析画面   │
                    │  - AI分析結果           │
                    │  - 解決方法提示         │
                    │  - アクション選択       │
                    └─────────────────────────┘
                              │
                    ┌─────────┼─────────┐
                    │         │         │
              おすすめ修正  手動修正   サポート相談
                    │         │         │
                    ▼         ▼         ▼
          ┌─────────────┐ ┌─────────┐ ┌─────────────┐
          │  自動修復    │ │ 手動修正 │ │ サポート     │
          │  実行画面    │ │ 設定画面 │ │ 問合せ画面   │
          │ - 進行状況   │ │ - 設定   │ │ - 連絡先    │
          │ - ログ表示   │ │ - 確認   │ │ - 履歴      │
          │ - 緊急停止   │ │ - 実行   │ │             │
          └─────────────┘ └─────────┘ └─────────────┘
                    │         │         │
                    └─────────┼─────────┘
                              │
                         完了・戻る
                              │
                              ▼
                    ┌─────────────────────────┐
                    │   メインダッシュボード    │ ← 処理後の状態更新
                    │  (更新されたステータス)  │
                    └─────────────────────────┘
                              │
                      レポート・設定アクセス
                              │
                              ▼
          ┌─────────────────┐           ┌─────────────────┐
          │ エラーレポート・  │           │    設定画面      │
          │ 統計画面         │           │ - 通知設定       │
          │ - 成果分析       │           │ - 自動修復レベル │
          │ - パターン分析   │           │ - ユーザー管理   │
          │ - 学習状況       │           │                 │
          └─────────────────┘           └─────────────────┘
```

## 詳細な画面遷移パターン

### パターン1: 自動解決の成功フロー
```
メインダッシュボード
    ↓ (エラー発生通知)
エラー詳細画面
    ↓ (「おすすめの修正を試す」選択)
自動修復実行画面
    ↓ (修復成功)
完了表示 (成功画面内)
    ↓ (「ダッシュボードに戻る」)
メインダッシュボード (更新済み)
```

### パターン2: 手動対応フロー
```
メインダッシュボード
    ↓ (エラー項目クリック)
エラー詳細画面
    ↓ (「手動で修正」選択)
手動修正設定画面
    ↓ (設定変更・確認)
手動実行確認画面
    ↓ (実行)
メインダッシュボード (更新済み)
```

### パターン3: サポート依頼フロー
```
メインダッシュボード
    ↓ (エラー項目クリック)
エラー詳細画面
    ↓ (「サポートに相談」選択)
サポート問い合わせ画面
    ↓ (問い合わせ送信)
問い合わせ完了画面
    ↓ (「戻る」)
メインダッシュボード
```

### パターン4: レポート・分析フロー
```
メインダッシュボード
    ↓ (「詳細レポートを見る」)
エラーレポート画面
    ↓ (詳細分析)
個別分析画面 (ロボット別・パターン別)
    ↓ (「戻る」)
エラーレポート画面
    ↓ (「戻る」)
メインダッシュボード
```

## 緊急時・例外フローの遷移

### 自動修復の失敗・中断時
```
自動修復実行画面
    ↓ (失敗・中断)
エラー発生・中断画面
    ↓ (「元に戻す」)
復旧処理画面
    ↓ (復旧完了)
エラー詳細画面 (元の状態)
    ↓ (他の選択肢を選択)
[手動修正 or サポート相談]
```

### 一時停止・後で対応フロー
```
エラー詳細画面
    ↓ (「一時停止」選択)
一時停止確認画面
    ↓ (「確認」)
メインダッシュボード
(エラーは「一時停止中」ステータスで表示)
    ↓ (後で再開)
エラー詳細画面 (継続)
```

## 通知からの画面遷移

### メール・Slack通知からの遷移
```
外部通知 (メール・Slack)
    ↓ (リンククリック)
エラー詳細画面 (該当エラー)
    ↓ (通常フローと同様)
[各種対応フロー]
```

### ブラウザ通知からの遷移
```
ブラウザ通知ポップアップ
    ↓ (クリック)
メインダッシュボード (該当エラーをハイライト)
    ↓ (エラー項目クリック)
エラー詳細画面
```

## 主要な画面間の関係性

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          画面の関係性マップ                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [メインダッシュボード] ←─────── 中心となるハブ画面 ─────────→             │
│         │                                                               │
│         ├─ [エラー詳細・分析] ←─── メイン機能画面 ───→                  │
│         │     │                                                         │
│         │     ├─ [自動修復実行] ←── 実行系画面 ──→                      │
│         │     ├─ [手動修正設定]                                         │
│         │     └─ [サポート問合せ]                                       │
│         │                                                               │
│         ├─ [エラーレポート・統計] ←── 分析系画面 ──→                    │
│         │     ├─ [個別ロボット分析]                                     │
│         │     ├─ [パターン詳細分析]                                     │
│         │     └─ [AI学習状況詳細]                                       │
│         │                                                               │
│         └─ [設定画面] ←────── 管理系画面 ──────→                        │
│               ├─ [通知設定]                                             │
│               ├─ [自動修復レベル設定]                                   │
│               └─ [ユーザー権限管理]                                     │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## 画面遷移のデザイン原則

### 1. 一貫性のあるナビゲーション
- 全画面で「戻る」ボタンの位置を統一
- メインダッシュボードへの「ホーム」アクセスを常に提供
- パンくずリストで現在位置を明確化

### 2. 文脈を保持した遷移
- エラー詳細から戻る際は、元のダッシュボード位置を保持
- 処理完了後は、関連するステータスを更新して表示
- フィルター・ソート状態の保持

### 3. 緊急時の迅速な対応
- どの画面からでも緊急停止・元に戻すアクセス
- サポートへの直接アクセス経路
- 重要な警告・確認ダイアログの配置

### 4. 情報の段階的開示
- サマリー → 詳細 → より詳細な階層構造
- 必要に応じて詳細情報へのドリルダウン
- 技術詳細は別画面に分離

### 5. モバイル対応考慮
- タブレット・スマートフォンでの操作性
- タッチ操作に適したボタンサイズ
- 画面サイズに応じたレイアウト調整

## アクセシビリティ考慮事項

- **キーボードナビゲーション**: Tab順序の最適化
- **スクリーンリーダー対応**: 適切なaria-labelの設定
- **色覚障害対応**: 色以外の情報伝達手段の併用
- **高コントラスト**: 視認性の高い色彩設計
- **拡大表示対応**: ズーム時のレイアウト保持